!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist",i(i.s=4)}([function(t,e,i){var n=i(1);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(2)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){},function(t,e,i){var n,r,s={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),a=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),h=null,c=0,l=[],u=i(3);function f(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=s[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(m(n.parts[o],e))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(m(n.parts[o],e));s[n.id]={id:n.id,refs:1,parts:a}}}}function p(t,e){for(var i=[],n={},r=0;r<t.length;r++){var s=t[r],o=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};n[o]?n[o].parts.push(a):i.push(n[o]={id:o,parts:[a]})}return i}function d(t,e){var i=a(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),l.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertAt.before,i);i.insertBefore(e,r)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return k(e,t.attrs),d(t,e),e}function k(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function m(t,e){var i,n,r,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var o=c++;i=h||(h=g(e)),n=w.bind(null,i,o,!1),r=w.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",k(e,t.attrs),d(t,e),e}(e),n=function(t,e,i){var n=i.css,r=i.sourceMap,s=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||s)&&(n=u(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,i,e),r=function(){v(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(e),n=function(t,e){var i=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){v(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=p(t,e);return f(i,e),function(t){for(var n=[],r=0;r<i.length;r++){var o=i[r];(a=s[o.id]).refs--,n.push(a)}t&&f(p(t,e),e);for(r=0;r<n.length;r++){var a;if(0===(a=n[r]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete s[a.id]}}}};var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function w(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,i){"use strict";i.r(e);i(0);var n=function(t,e){var i=t-.5+Math.random()*(e-t+1);return i=Math.round(i)};function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=500,o=500,a="#cecece",h="1px solid #000",c=30,l=2,u="rgba(255, 0, 0, 0.5)",f="darkgreen",p="right",d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaultProps={width:s,height:o,bgColor:a,border:h,sizeSquare:c,lineWidth:l,lineColor:u,snakeColor:f},this.props=Object.assign({},this.defaultProps,e),this.axisX=[],this.axisY=[],this.ctx,this.snakeSize=0,this.snake={position:[],direction:p},this.game=!1,this.targetShow=!1,this.targetPosition=[],this.gameOver=!1,this.score=0,this.init()}var e,i,d;return e=t,(i=[{key:"prepareCanvas",value:function(){var t=this.props.width,e=this.props.height,i=this.props.sizeSquare-this.props.lineWidth,n=t%i,r=e%i;0!==n&&(t+=this.props.sizeSquare-n,this.props.width=t),0!==r&&(e+=this.props.sizeSquare-r,this.props.height=e);var s=document.getElementById("canvas");s.width=this.props.width,s.height=this.props.height,s.style.backgroundColor=this.props.bgColor,s.style.border=this.props.border,this.ctx=s.getContext("2d")}},{key:"init",value:function(){this.prepareCanvas(),this.createCoordinates(),this.drawGrid(),this.createFirstSnakePosition(),this.drawSnake(),this.drawScore(),this.notStarted=!0}},{key:"drawGrid",value:function(){var t=this.ctx,e=this.props.height,i=this.props.width;t.fillStyle=this.props.lineColor;for(var n=0;n<this.axisX.length;n++)t.fillRect(this.axisX[n],0,this.props.lineWidth,e);for(var r=0;r<this.axisY.length;r++)t.fillRect(0,this.axisY[r],i,this.props.lineWidth)}},{key:"createCoordinates",value:function(){for(var t=this.props.width-1,e=this.props.height-1,i=this.props.sizeSquare-this.props.lineWidth,n=0;n<=t;n+=i)this.axisX.push(n);for(var r=0;r<=e;r+=i)this.axisY.push(r);this.snakeSize=this.axisX[1]-this.axisX[0]}},{key:"createFirstSnakePosition",value:function(){for(var t=~~(this.axisY.length/2-1),e=~~((this.axisX.length-4)/2-1),i=0;i<4;i++){var n=[];n.push(this.axisX[e+i]),n.push(this.axisY[t]),this.snake.position.push(n)}}},{key:"drawSnake",value:function(){var t=this,e=this.snakeSize-this.props.lineWidth,i=this.ctx;i.fillStyle=this.props.snakeColor,this.snake.position.forEach(function(n){var r=n[0]+t.props.lineWidth,s=n[1]+t.props.lineWidth;i.fillRect(r,s,e,e)})}},{key:"drawScore",value:function(){var t=this.ctx;t.fillStyle="rgba(255, 255, 255, 0.8)",t.font="20px arial",t.fillText("score: ".concat(this.score),10,30)}},{key:"snakeOneStep",value:function(){var t=this.snake.direction,e=this.snake.position.length-1,i=this.snake.position[e],n=this.axisX.indexOf(i[0]),r=this.axisY.indexOf(i[1]),s=[];switch(t){case p:n++;break;case"left":n--;break;case"top":r--;break;case"bottom":r++}var o=this.axisX[n],a=this.axisY[r];s.push(o),s.push(a),this.crashOnWall(s),this.killYouself(s),this.snake.position.push(s);var h=this.targetPosition[0]-this.props.lineWidth,c=this.targetPosition[1]-this.props.lineWidth;s[0]===h&&s[1]===c?(this.targetShow=!1,this.score+=1):this.snake.position.shift()}},{key:"gameUpdate",value:function(){this.snakeOneStep(),this.gameOver||(this.clear(),this.drawSnake(),this.drawTarget(),this.drawScore())}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.props.width,this.props.height),this.drawGrid()}},{key:"drawTarget",value:function(){var t=this.ctx;t.fillStyle="#0000ff";var e=this.snakeSize-this.props.lineWidth;if(this.targetShow){var i=this.targetPosition[0],r=this.targetPosition[1];t.fillRect(i,r,e,e)}else{var s,o;do{this.targetShow=!0;var a=this.axisX.length-2,h=this.axisY.length-2,c=n(0,a),l=n(0,h),u=this.axisX[c],f=this.axisY[l];s=u+this.props.lineWidth,o=f+this.props.lineWidth;for(var p=this.snake.position,d=0;d<p.length;d++){var v=p[d][0],g=p[d][1];v===u&&g===f&&(this.targetShow=!1)}}while(!this.targetShow);this.targetPosition[0]=s,this.targetPosition[1]=o,t.fillRect(s,o,e,e)}}},{key:"crashOnWall",value:function(t){var e=this.axisX[this.axisX.length-1],i=this.axisY[this.axisY.length-1],n=t[0],r=t[1];n!==e&&void 0!==n&&r!==i&&void 0!==r||(this.gameOver=!0)}},{key:"killYouself",value:function(t){for(var e=t[0],i=t[1],n=this.snake.position,r=0;r<n.length;r++)e===n[r][0]&&i===n[r][1]&&(this.gameOver=!0)}}])&&r(e.prototype,i),d&&r(e,d),t}(),v=39,g=37,k=40,m=38,y=1e3,b=6,w="right",x="left",S="top",O="bottom";function C(t){switch(t.keyCode){case v:snake.snake.direction=snake.snake.direction!==x?w:x;break;case g:snake.snake.direction=snake.snake.direction!==w?x:w;break;case m:snake.snake.direction=snake.snake.direction!==O?S:O;break;case k:snake.snake.direction=snake.snake.direction!==S?O:S}}var L=document.getElementById("cover");function E(){document.addEventListener("keydown",C,!1),snake.notStarted=!1,function t(e){e.gameUpdate(),e.game=setTimeout(function(){requestAnimationFrame(function(){t(e)})},y/b),e.gameOver&&(clearTimeout(e.game),j())}(snake),L.classList.add("hide"),L.innerHTML="<span>PAUSE</span>"}function T(){"snake"in window&&(clearTimeout(snake.game),document.removeEventListener("keydown",C),delete window.snake,window.snake=new d,L.classList.remove("hide"),L.innerHTML="<span>Press SPACE to start</span>")}function j(){L.classList.remove("hide"),L.innerHTML="<span>GAME OVER<em>score: ".concat(snake.score,"</em></span>")}window.snake=new d,document.addEventListener("keyup",function(t){switch(t.keyCode){case 32:snake&&snake.notStarted?E():snake.gameOver?T():snake.paused?(E(),snake.paused=!1):(clearTimeout(snake.game),snake.paused=!0,document.removeEventListener("keydown",C),L.classList.remove("hide"));break;case 27:T()}},!1)}]);